{
  "test_date": "2025-07-07T12:20:23.191808",
  "story": "2.1 Query Intent Detection",
  "acceptance_criteria": [
    {
      "id": "AC2",
      "description": "Chinese keywords trigger relationship_discovery",
      "passed": true
    },
    {
      "id": "AC3",
      "description": "Default to fact_qa when no keywords",
      "passed": true
    },
    {
      "id": "AC10",
      "description": "Edge cases handled gracefully",
      "passed": true
    },
    {
      "id": "AC11.1",
      "description": "Keyword detection < 100ms",
      "passed": true
    },
    {
      "id": "AC11.2",
      "description": "LLM classification 15-20s acceptable",
      "passed": true
    },
    {
      "id": "AC11.3",
      "description": "Cached queries < 500ms",
      "passed": true
    }
  ],
  "performance_metrics": {
    "keyword_detection": {
      "average_ms": 0.07184346516927083,
      "max_ms": 0.11229515075683594,
      "meets_requirement": true
    },
    "llm_classification": {
      "average_ms": 7243.955373764038,
      "average_s": 7.243955373764038,
      "meets_requirement": true
    },
    "cache": {
      "first_call_ms": 4496.556282043457,
      "cached_call_ms": 0.024557113647460938,
      "speedup_factor": 183106.05825242717,
      "meets_requirement": true
    }
  },
  "test_results": [
    {
      "test_id": "AC2-1",
      "category": "keyword_detection",
      "query": "找出与阿里巴巴相似的公司",
      "expected": "relationship_discovery",
      "actual": "relationship_discovery",
      "correct": true,
      "latency_ms": 0.09942054748535156,
      "method": "keyword"
    },
    {
      "test_id": "AC2-2",
      "category": "keyword_detection",
      "query": "分析腾讯的竞品",
      "expected": "relationship_discovery",
      "actual": "relationship_discovery",
      "correct": true,
      "latency_ms": 0.06103515625,
      "method": "keyword"
    },
    {
      "test_id": "AC2-3",
      "category": "keyword_detection",
      "query": "供应链上下游关系",
      "expected": "relationship_discovery",
      "actual": "relationship_discovery",
      "correct": true,
      "latency_ms": 0.04887580871582031,
      "method": "keyword"
    },
    {
      "test_id": "AC3-1",
      "category": "default_fact_qa",
      "query": "阿里巴巴的年营收是多少",
      "expected": "fact_qa",
      "actual": "fact_qa",
      "correct": true,
      "latency_ms": 0.046253204345703125,
      "method": "keyword"
    },
    {
      "test_id": "AC10-1",
      "category": "edge_case",
      "query": "",
      "expected": "fact_qa",
      "actual": "fact_qa",
      "correct": true,
      "latency_ms": 0.11229515075683594,
      "method": "keyword"
    },
    {
      "test_id": "AC10-2",
      "category": "edge_case",
      "query": "!@#$%^&*()",
      "expected": "fact_qa",
      "actual": "fact_qa",
      "correct": true,
      "latency_ms": 0.06318092346191406,
      "method": "keyword"
    },
    {
      "test_id": "AC4-1",
      "category": "llm_fallback",
      "query": "比较阿里和腾讯的业务模式",
      "expected": "relationship_discovery",
      "actual": "relationship_discovery",
      "correct": true,
      "latency_ms": 7243.955373764038,
      "method": "llm"
    }
  ]
}